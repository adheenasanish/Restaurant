@model Restaurant.ViewModel.DisplayVM
   

    @{
        ViewData["Title"] = "Details";
    }


    <h2>Details</h2>

    <div>
        <h4>DisplayVM</h4>
        <hr />
     
            <table class="table table-bordered ">
                <tr>
                    <td><img src="@Html.DisplayFor(model => model.ItemImage)" width="230" height="230" style="border:1px solid gray" ; /></td>
                    <td>
                        <dl class="dl-horizontal">

                            <dt class="text-left">
                                Item :
                            </dt>
                            <dd>
                                @Html.DisplayFor(model => model.Itemname)
                            </dd>
                            @*@Html.DropDownList("CountryName", new SelectList( ViewBag.CountryName,"Value", "Text"), "Select Country",
                            new { @class = "form-control" })*@
                            <dt class="text-left">
                                Unit Price :
                            </dt>
                            <dd>
                                @Html.DisplayFor(model => model.ItemPrice)
                                <input type="hidden" id="unitPrice" value=@Html.DisplayFor(model => model.ItemPrice) size="8" />
                                @Html.HiddenFor(model => model.ItemId)
                               
                            </dd>
                        </dl>
                        
                        <table>
                            <tr>
                                <td>
                                    <dl class="dl-horizontal">

                                        <dt class="text-left">
                                            Qty:
                                        </dt>
                                    </dl>
                                </td>
                                <td> <input type="text" id="number" value="1" size="8" /></td>
                                
                                <td><span onclick="addFunc()" id="add"><i class="fas fa-plus-circle fa-1x"></i> </span></td>
                                <td><span onclick="minusFunc()" id="minus"><i class="fas fa-minus-circle"></i> </span></td>
                            </tr>
                            <tr style="padding-top:50px;">
                                <td>
                                    <dl class="dl-horizontal">

                                        <dt class="text-left">
                                            Total:
                                        </dt>
                                      @*@{ 
                                          var p = Req
                                      }*@
                                    </dl>
                                </td>
                                <td> <input type="text" id="total" value=@Html.DisplayFor(model => model.ItemPrice) size="8" /></td>
                               
                                <td></td>

                            </tr>

                            <tr>
                                <td>
                                    @*<input type="button" name="button" id="button1" value="Add to Cart" />*@
                                    <a asp-controller="Order"  asp-action="addToCart" asp-route-itemName=@Model.Itemname 
                                                                                       asp-route-ItemPrice=@Model.ItemPrice                                                                                      
                                                                                       asp-route-id=@Model.ItemId
                                                                                        asp-route-total=unitPrice;
                                                                                        asp-route-qty=@Model.Qty>Add to Cart</a>
                                </td>



                            </tr>
                          

                            </table>



                    </td>
                </tr>
            </table>

       
    </div>
    <div>
        @*@Html.ActionLink("Edit", "Edit", new { /* id = Model.PrimaryKey */ }) |*@
        <a class="btn btn-info" asp-action="GetItems"> << Back</a>
    </div>
<script>
    window.onload = function () {
      
        document.getElementById("add").onclick = function () {
           var value = parseInt(document.getElementById('number').value, 10);
           //value = isNaN(value) ? 0 : value;
           value++;
            document.getElementById('number').value = value;
            var price = parseInt(document.getElementById('total').value, 10);

            var unitPrice = parseFloat(document.getElementById('unitPrice').value,10);          
            unitPrice = value * unitPrice;
            document.getElementById('total').value = unitPrice;
            
        }

        document.getElementById("minus").onclick = function () {
            var value = parseInt(document.getElementById('number').value, 10);
            value = isNaN(value) ? 0 : value;
            value--;
            //alert(value);
            var unitPrice = parseFloat(document.getElementById('unitPrice').value, 10);
            unitPrice = value * unitPrice;
            
            document.getElementById('total').value = unitPrice;

            document.getElementById('number').value = value;
        }

        //document.getElementById("button1").onclick = function () {
        //    alert('hi');

        //    p = ParseInt(document.getElementById('total').value);
        //}



    }
   
</script>


